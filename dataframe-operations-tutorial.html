<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 95 Dataframe operations tutorial | EDAV Fall 2021 Tues/Thurs Community Contributions</title>
<meta name="description" content="Yunzhe Zhang library(dplyr)  95.0.1 Tutorial for being familiar with DataFrame in R This tutorial will introduce some basic ways to help some beginners be familiar with the dataframe in R. Since...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 95 Dataframe operations tutorial | EDAV Fall 2021 Tues/Thurs Community Contributions">
<meta property="og:type" content="book">
<meta property="og:description" content="Yunzhe Zhang library(dplyr)  95.0.1 Tutorial for being familiar with DataFrame in R This tutorial will introduce some basic ways to help some beginners be familiar with the dataframe in R. Since...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 95 Dataframe operations tutorial | EDAV Fall 2021 Tues/Thurs Community Contributions">
<meta name="twitter:description" content="Yunzhe Zhang library(dplyr)  95.0.1 Tutorial for being familiar with DataFrame in R This tutorial will introduce some basic ways to help some beginners be familiar with the dataframe in R. Since...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script><link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script><script src="libs/dygraphs-1.1.1/shapes.js"></script><script src="libs/moment-2.8.4/moment.js"></script><script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-8.1.2/highcharts.js"></script><script src="libs/highcharts-8.1.2/highcharts-3d.js"></script><script src="libs/highcharts-8.1.2/highcharts-more.js"></script><script src="libs/highcharts-8.1.2/modules/stock.js"></script><script src="libs/highcharts-8.1.2/modules/map.js"></script><script src="libs/highcharts-8.1.2/modules/annotations.js"></script><script src="libs/highcharts-8.1.2/modules/data.js"></script><script src="libs/highcharts-8.1.2/modules/drilldown.js"></script><script src="libs/highcharts-8.1.2/modules/item-series.js"></script><script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script><script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-8.1.2/modules/exporting.js"></script><script src="libs/highcharts-8.1.2/modules/export-data.js"></script><script src="libs/highcharts-8.1.2/modules/funnel.js"></script><script src="libs/highcharts-8.1.2/modules/heatmap.js"></script><script src="libs/highcharts-8.1.2/modules/treemap.js"></script><script src="libs/highcharts-8.1.2/modules/sankey.js"></script><script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script><script src="libs/highcharts-8.1.2/modules/organization.js"></script><script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script><script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script><script src="libs/highcharts-8.1.2/modules/sunburst.js"></script><script src="libs/highcharts-8.1.2/modules/vector.js"></script><script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script><script src="libs/highcharts-8.1.2/modules/xrange.js"></script><script src="libs/highcharts-8.1.2/modules/tilemap.js"></script><script src="libs/highcharts-8.1.2/modules/venn.js"></script><script src="libs/highcharts-8.1.2/modules/gantt.js"></script><script src="libs/highcharts-8.1.2/modules/timeline.js"></script><script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script><script src="libs/highcharts-8.1.2/modules/bullet.js"></script><script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script><script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script><script src="libs/highcharts-8.1.2/modules/lollipop.js"></script><script src="libs/highcharts-8.1.2/modules/series-label.js"></script><script src="libs/highcharts-8.1.2/plugins/motion.js"></script><script src="libs/highcharts-8.1.2/custom/reset.js"></script><script src="libs/highcharts-8.1.2/modules/boost.js"></script><script src="libs/highchart-binding-0.8.2/highchart.js"></script><script src="libs/detect-resize-0.5.3/jquery.resize.js"></script><link href="libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet">
<script src="libs/jquery-ui-1.11.4/jquery-ui.min.js"></script><script src="libs/vega-1.4.3/vega.min.js"></script><script src="libs/lodash-2.2.1/lodash.min.js"></script><script>var lodash = _.noConflict();</script><link href="libs/ggvis-0.4.7/css/ggvis.css" rel="stylesheet">
<script src="libs/ggvis-0.4.7/js/ggvis.js"></script><link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet">
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script><script src="libs/wordcloud2-0.0.1/hover.js"></script><script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">EDAV Fall 2021 Tues/Thurs Community Contributions</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Welcome!</a></li>
<li><a class="" href="community-contribution.html"><span class="header-section-number">2</span> Community Contribution</a></li>
<li><a class="" href="github-submission-instructions.html"><span class="header-section-number">3</span> GitHub submission instructions</a></li>
<li><a class="" href="sample-project.html"><span class="header-section-number">4</span> Sample project</a></li>
<li class="book-part">Cheatsheets</li>
<li><a class="" href="statistics-in-r-vs-python.html"><span class="header-section-number">5</span> Statistics in R vs Python</a></li>
<li><a class="" href="data-visualization-with-seaborn.html"><span class="header-section-number">6</span> Data Visualization with Seaborn</a></li>
<li><a class="" href="how-to-make-your-own-r-package.html"><span class="header-section-number">7</span> How to Make Your Own R package</a></li>
<li><a class="" href="rchess-package-cheatsheet.html"><span class="header-section-number">8</span> RChess package cheatsheet</a></li>
<li><a class="" href="hypothesis-testing-cheatsheet.html"><span class="header-section-number">9</span> Hypothesis testing cheatsheet</a></li>
<li><a class="" href="interactive-web-visualizations-for-r-cheatsheet.html"><span class="header-section-number">10</span> Interactive web visualizations for R cheatsheet"</a></li>
<li><a class="" href="ggforce.html"><span class="header-section-number">11</span> ggforce</a></li>
<li><a class="" href="gganimate-cheatsheet.html"><span class="header-section-number">12</span> GGanimate cheatsheet</a></li>
<li><a class="" href="statistical-tests-and-parameter-estimations-in-r-cheatsheet.html"><span class="header-section-number">13</span> Statistical Tests and Parameter Estimations in R Cheatsheet</a></li>
<li><a class="" href="ggalluvial-cheat-sheet.html"><span class="header-section-number">14</span> ggalluvial-cheat-sheet</a></li>
<li><a class="" href="introduction-to-plotly.html"><span class="header-section-number">15</span> Introduction to plotly</a></li>
<li><a class="" href="draw-graphs-using-python-and-r.html"><span class="header-section-number">16</span> draw graphs using python and R</a></li>
<li><a class="" href="data-visualization-packages-in-r.html"><span class="header-section-number">17</span> Data Visualization Packages in R</a></li>
<li><a class="" href="esquisse-cheat-sheet.html"><span class="header-section-number">18</span> Esquisse Cheat sheet</a></li>
<li><a class="" href="review-sheet-for-r-code-and-data-transformation.html"><span class="header-section-number">19</span> review sheet for r code and data transformation</a></li>
<li><a class="" href="scrape-twitter-data-using-r.html"><span class="header-section-number">20</span> Scrape Twitter data using R</a></li>
<li><a class="" href="r-note-and-mathematics-in-rmd-cheatsheet.html"><span class="header-section-number">21</span> R note and Mathematics in Rmd cheatsheet</a></li>
<li><a class="" href="textbook-notes.html"><span class="header-section-number">22</span> Textbook Notes</a></li>
<li><a class="" href="ggplot2-cheatsheet.html"><span class="header-section-number">23</span> ggplot2 cheatsheet</a></li>
<li><a class="" href="rstudio-cheatsheet.html"><span class="header-section-number">24</span> RStudio Cheatsheet</a></li>
<li><a class="" href="d3-visualization-in-r-cheatsheet.html"><span class="header-section-number">25</span> D3 Visualization in R Cheatsheet</a></li>
<li><a class="" href="colors.html"><span class="header-section-number">26</span> Colors</a></li>
<li><a class="" href="r-data-sets.html"><span class="header-section-number">27</span> R data sets</a></li>
<li><a class="" href="introduction-to-plotly-1.html"><span class="header-section-number">28</span> “Introduction to Plotly”</a></li>
<li><a class="" href="tidyverse-cheatsheet.html"><span class="header-section-number">29</span> Tidyverse Cheatsheet</a></li>
<li><a class="" href="learning-sql-with-its-r-dplyr-translation.html"><span class="header-section-number">30</span> Learning SQL with Its R dplyr Translation</a></li>
<li><a class="" href="animate-time-series-the-goyav-package.html"><span class="header-section-number">31</span> Animate Time Series : the goyav package</a></li>
<li><a class="" href="string-manipulation-in-r.html"><span class="header-section-number">32</span> String Manipulation in R</a></li>
<li><a class="" href="ggalluvial-cheatsheet.html"><span class="header-section-number">33</span> ggalluvial Cheatsheet</a></li>
<li><a class="" href="a-cheatsheet-from-pandas-to-base-r-and-tidyverse.html"><span class="header-section-number">34</span> A cheatsheet from pandas to base r and tidyverse</a></li>
<li><a class="" href="base-r-ggplot2-python-graphing-performances.html"><span class="header-section-number">35</span> Base R, ggplot2, &amp; Python Graphing Performances</a></li>
<li><a class="" href="cheat-sheet-to-score-100-points.html"><span class="header-section-number">36</span> Cheat Sheet to Score 100 Points</a></li>
<li><a class="" href="base-r-string-operations-cheatsheet.html"><span class="header-section-number">37</span> Base R String Operations Cheatsheet</a></li>
<li><a class="" href="data-manipulation-in-r.html"><span class="header-section-number">38</span> Data manipulation in R</a></li>
<li><a class="" href="ggplot_matplotlib_cheatsheet.html"><span class="header-section-number">39</span> ggplot_matplotlib_cheatsheet</a></li>
<li><a class="" href="introduction-to-log-transformation.html"><span class="header-section-number">40</span> Introduction to Log-transformation</a></li>
<li class="book-part">R Tutorials</li>
<li><a class="" href="how-to-integrate-r-with-postgresql.html"><span class="header-section-number">41</span> How to Integrate R with PostgreSQL</a></li>
<li><a class="" href="tutorial-on-cluster-analysis.html"><span class="header-section-number">42</span> Tutorial on Cluster Analysis</a></li>
<li><a class="" href="tutorial-on-cluster-analysis-1.html"><span class="header-section-number">43</span> Tutorial on Cluster Analysis</a></li>
<li><a class="" href="apply-function-in-r.html"><span class="header-section-number">44</span> Apply function in r</a></li>
<li><a class="" href="introduction-to-interactive-graphs-in-r.html"><span class="header-section-number">45</span> Introduction to interactive graphs in R</a></li>
<li><a class="" href="plot-and-analyze-stock-data-with-r.html"><span class="header-section-number">46</span> Plot and Analyze Stock Data with R</a></li>
<li><a class="" href="data-visulization-ordering.html"><span class="header-section-number">47</span> Data Visulization Ordering</a></li>
<li><a class="" href="tutorial-on-lattice-package-in-r.html"><span class="header-section-number">48</span> Tutorial on lattice package in R</a></li>
<li><a class="" href="network-visualization-in-r.html"><span class="header-section-number">49</span> Network Visualization in R</a></li>
<li><a class="" href="dplyr-tutorial-in-r.html"><span class="header-section-number">50</span> Dplyr tutorial in R</a></li>
<li><a class="" href="downloading-files.html"><span class="header-section-number">51</span> Downloading files</a></li>
<li><a class="" href="video-introduction-to-maps-with-ggmap.html"><span class="header-section-number">52</span> Video introduction to maps with ggmap</a></li>
<li><a class="" href="comparison-among-base-r-tidyverse-and-datatable.html"><span class="header-section-number">53</span> Comparison among base R, tidyverse, and datatable</a></li>
<li><a class="" href="raincloud-plot-101-density-plot-or-boxplotwhy-not-do-both.html"><span class="header-section-number">54</span> Raincloud plot 101: density plot or boxplot？Why not do both!</a></li>
<li><a class="" href="an-introduction-to-dygraph-in-r.html"><span class="header-section-number">55</span> An Introduction to Dygraph in R</a></li>
<li><a class="" href="streamlit-tutorial.html"><span class="header-section-number">56</span> Streamlit Tutorial</a></li>
<li><a class="" href="hive-plots-with-the-ggraph-and-hiver-packages.html"><span class="header-section-number">57</span> Hive plots with the ggraph and hiver packages</a></li>
<li><a class="" href="introduction-to-xai-explainable-ai-in-r.html"><span class="header-section-number">58</span> Introduction to XAI (Explainable AI) in R</a></li>
<li><a class="" href="tutorial-for-gg_cleveland.html"><span class="header-section-number">59</span> Tutorial for gg_cleveland</a></li>
<li><a class="" href="neural-network-tools-in-r.html"><span class="header-section-number">60</span> Neural network tools in R</a></li>
<li><a class="" href="readable-plots.html"><span class="header-section-number">61</span> Readable Plots</a></li>
<li><a class="" href="introduction-to-exploratory-spatial-data-analysis-and-visualization-using-qgis.html"><span class="header-section-number">62</span> Introduction to exploratory spatial data analysis and visualization using QGIS</a></li>
<li><a class="" href="base-r-tutorial.html"><span class="header-section-number">63</span> Base R Tutorial</a></li>
<li><a class="" href="introduction-to-models-and-prediction-evaluation.html"><span class="header-section-number">64</span> Introduction to models and prediction evaluation</a></li>
<li><a class="" href="introduction-to-interactive-time-series-visualizations-with-dygraphs-in-r.html"><span class="header-section-number">65</span> Introduction to Interactive Time Series Visualizations with dygraphs in R</a></li>
<li><a class="" href="gganimate-tutorial.html"><span class="header-section-number">66</span> Gganimate Tutorial</a></li>
<li><a class="" href="get-nba-dataset-in-r.html"><span class="header-section-number">67</span> Get NBA dataset in R</a></li>
<li><a class="" href="mtemplates.html"><span class="header-section-number">68</span> Mtemplates</a></li>
<li><a class="" href="introduction-to-time-series-analysis-in-r.html"><span class="header-section-number">69</span> Introduction to Time Series Analysis in R</a></li>
<li><a class="" href="storytelling-with-data.html"><span class="header-section-number">70</span> Storytelling with Data</a></li>
<li><a class="" href="tutorial-on-r-torch-package.html"><span class="header-section-number">71</span> Tutorial on R torch package</a></li>
<li><a class="" href="edav-tutorials-correlogram-calendar-heatmap-and-slopegram.html"><span class="header-section-number">72</span> EDAV Tutorials: Correlogram, Calendar Heatmap and Slopegram</a></li>
<li><a class="" href="recursive-codes-and-self-organized-map-with-r.html"><span class="header-section-number">73</span> Recursive codes and self-organized map with R</a></li>
<li><a class="" href="tutorial-of-three-ggplot2-based-packages.html"><span class="header-section-number">74</span> Tutorial of three ggplot2 based packages</a></li>
<li><a class="" href="a-step-by-step-tutorial-for-natural-language-processing-in-r.html"><span class="header-section-number">75</span> A Step by Step Tutorial for Natural Language Processing in R</a></li>
<li><a class="" href="tutorial-for-ggvis-and-its-comparison-with-ggplot2.html"><span class="header-section-number">76</span> Tutorial for ggvis and its Comparison with ggplot2</a></li>
<li><a class="" href="feature-selection-in-r.html"><span class="header-section-number">77</span> Feature selection in r</a></li>
<li><a class="" href="debugging-in-rstudio.html"><span class="header-section-number">78</span> Debugging in Rstudio</a></li>
<li><a class="" href="r-tutorial-cheatsheet.html"><span class="header-section-number">79</span> R tutorial cheatsheet</a></li>
<li><a class="" href="brief-introduction-of-ggpubr.html"><span class="header-section-number">80</span> Brief Introduction of ggpubr</a></li>
<li><a class="" href="r-based-data-organization-and-visualization.html"><span class="header-section-number">81</span> R based data organization and visualization</a></li>
<li><a class="" href="r-packages-for-map-visualization.html"><span class="header-section-number">82</span> R packages for map Visualization</a></li>
<li><a class="" href="common-git-command-lines-tutorial-when-working-on-studio.html"><span class="header-section-number">83</span> Common git command lines tutorial when working on studio</a></li>
<li><a class="" href="tutorial-of-radar-chart.html"><span class="header-section-number">84</span> Tutorial of radar chart</a></li>
<li><a class="" href="interactive-radar.html"><span class="header-section-number">85</span> Interactive Radar</a></li>
<li><a class="" href="r-shiny-tutorial.html"><span class="header-section-number">86</span> R shiny tutorial</a></li>
<li><a class="" href="tutorial-on-r-markdown.html"><span class="header-section-number">87</span> Tutorial on R Markdown</a></li>
<li><a class="" href="dlookr-package.html"><span class="header-section-number">88</span> Dlookr package</a></li>
<li><a class="" href="urca-unit-root-test-and-cointegration-test.html"><span class="header-section-number">89</span> Urca: Unit Root Test and Cointegration Test</a></li>
<li><a class="" href="comparing-excel-chart-making-with-rs.html"><span class="header-section-number">90</span> Comparing Excel Chart Making with R’s</a></li>
<li><a class="" href="joining-and-reshaping-in-r.html"><span class="header-section-number">91</span> Joining and reshaping in R</a></li>
<li><a class="" href="running-sql-queries-on-dataframes.html"><span class="header-section-number">92</span> Running Sql Queries on Dataframes</a></li>
<li><a class="" href="tidyverse.html"><span class="header-section-number">93</span> TidyVerse</a></li>
<li><a class="" href="how-to-animate-your-plots.html"><span class="header-section-number">94</span> How to animate your plots</a></li>
<li><a class="active" href="dataframe-operations-tutorial.html"><span class="header-section-number">95</span> Dataframe operations tutorial</a></li>
<li><a class="" href="a-brief-instruction-for-the-half-semester-of-edav5702.html"><span class="header-section-number">96</span> A brief instruction for the half semester of EDAV5702</a></li>
<li><a class="" href="anova-tutorial.html"><span class="header-section-number">97</span> ANOVA tutorial</a></li>
<li><a class="" href="predictive-analytics-using-data-visualization-in-r.html"><span class="header-section-number">98</span> Predictive Analytics using Data Visualization in R</a></li>
<li><a class="" href="color-selection-for-ggplot-graphs.html"><span class="header-section-number">99</span> Color selection for ggplot graphs</a></li>
<li><a class="" href="useful-resources-for-r-beginners.html"><span class="header-section-number">100</span> Useful resources for R beginners</a></li>
<li><a class="" href="tutorial-on-using-mongodb-with-r.html"><span class="header-section-number">101</span> Tutorial on Using MongoDB with R</a></li>
<li><a class="" href="rdoc---an-alfred-worflow-to-search-r-documentation.html"><span class="header-section-number">102</span> rdoc - An Alfred Worflow to Search R Documentation</a></li>
<li><a class="" href="data-frame-reshape.html"><span class="header-section-number">103</span> Data Frame Reshape</a></li>
<li><a class="" href="using-postgresql-databse-in-r-with-macos-environment.html"><span class="header-section-number">104</span> Using PostgreSQL Databse in R with MacOS Environment</a></li>
<li><a class="" href="spark-tutorial-in-r.html"><span class="header-section-number">105</span> Spark Tutorial In R</a></li>
<li><a class="" href="d-visualization-with-rgl-and-scatterplot3d.html"><span class="header-section-number">106</span> 3D Visualization with rgl and scatterplot3d</a></li>
<li><a class="" href="base-r-vs.-ggplot2-visualization.html"><span class="header-section-number">107</span> Base r vs. ggplot2 visualization</a></li>
<li><a class="" href="improved-density-estimation.html"><span class="header-section-number">108</span> Improved density estimation</a></li>
<li><a class="" href="plotting-theme-for-columbia.html"><span class="header-section-number">109</span> Plotting theme for Columbia</a></li>
<li><a class="" href="geospatial-data-visualization.html"><span class="header-section-number">110</span> Geospatial Data Visualization</a></li>
<li><a class="" href="neo4j-python-implementation.html"><span class="header-section-number">111</span> Neo4j python implementation</a></li>
<li><a class="" href="super-ggformat.html"><span class="header-section-number">112</span> Super ggformat</a></li>
<li><a class="" href="data_composition_plot.html"><span class="header-section-number">113</span> Data_Composition_Plot</a></li>
<li><a class="" href="ggplot2_treemapify.html"><span class="header-section-number">114</span> ggplot2_treemapify</a></li>
<li><a class="" href="tutorial-for-scatter-plot-with-marginal-distribution.html"><span class="header-section-number">115</span> Tutorial for scatter plot with marginal distribution</a></li>
<li class="book-part">R Tutorials</li>
<li><a class="" href="d-data-and-potential-relationship-visualization.html"><span class="header-section-number">116</span> 3D data and potential relationship visualization</a></li>
<li><a class="" href="using-python-in-r.html"><span class="header-section-number">117</span> Using python in r</a></li>
<li><a class="" href="plotting-graph-with-r-v.s.-python.html"><span class="header-section-number">118</span> Plotting graph with R v.s. Python</a></li>
<li><a class="" href="ggplot2-in-python.html"><span class="header-section-number">119</span> ggplot2 in python</a></li>
<li><a class="" href="pygal-tutorial.html"><span class="header-section-number">120</span> pygal tutorial</a></li>
<li><a class="" href="integrate-r-with-python.html"><span class="header-section-number">121</span> Integrate R with Python</a></li>
<li><a class="" href="python-visualization-tutorial.html"><span class="header-section-number">122</span> Python Visualization Tutorial</a></li>
<li><a class="" href="python-altair-visualization-method-tutorial.html"><span class="header-section-number">123</span> Python Altair Visualization Method Tutorial</a></li>
<li><a class="" href="r-to-python-easy-plot.html"><span class="header-section-number">124</span> R to python easy plot</a></li>
<li><a class="" href="r-dplyr-vs-python-pandas.html"><span class="header-section-number">125</span> R Dplyr vs Python Pandas</a></li>
<li><a class="" href="an-introduction-to-pyecharts-package-in-python.html"><span class="header-section-number">126</span> An introduction to pyecharts package in Python</a></li>
<li><a class="" href="visualization-in-r-v.s.-python.html"><span class="header-section-number">127</span> Visualization in R v.s. Python</a></li>
<li><a class="" href="understand-data-with-plots.html"><span class="header-section-number">128</span> Understand data with plots</a></li>
<li><a class="" href="r-and-python-visualization.html"><span class="header-section-number">129</span> R and Python visualization</a></li>
<li><a class="" href="data-visualization-in-python-vs-r.html"><span class="header-section-number">130</span> Data Visualization in Python vs R</a></li>
<li><a class="" href="python-visualization-tutorial-1.html"><span class="header-section-number">131</span> Python Visualization Tutorial</a></li>
<li class="book-part">Project &amp; Workshops</li>
<li><a class="" href="introduction-to-analytics-consulting-at-accenture.html"><span class="header-section-number">132</span> Introduction to analytics consulting at Accenture</a></li>
<li><a class="" href="map-of-the-r-world.html"><span class="header-section-number">133</span> Map of the R world</a></li>
<li><a class="" href="alluvial-diagrams-and-their-implementation-using-ggalluvial-in-r.html"><span class="header-section-number">134</span> Alluvial diagrams and their implementation using GGalluvial in R</a></li>
<li><a class="" href="building-a-dashboard-in-r-for-data-analysis-and-visualization-using-shiny-package.html"><span class="header-section-number">135</span> Building a Dashboard in R for Data Analysis and Visualization using shiny package</a></li>
<li><a class="" href="rgl-package.html"><span class="header-section-number">136</span> RGL Package</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="github-initial-setup.html"><span class="header-section-number">137</span> Github initial setup</a></li>
<li><a class="" href="tutorial-for-pull-request-mergers.html"><span class="header-section-number">138</span> Tutorial for pull request mergers</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/jtr13/cc21fall2">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="dataframe-operations-tutorial" class="section level1">
<h1>
<span class="header-section-number">95</span> Dataframe operations tutorial<a class="anchor" aria-label="anchor" href="#dataframe-operations-tutorial"><i class="fas fa-link"></i></a>
</h1>
<p>Yunzhe Zhang</p>
<div class="sourceCode" id="cb1321"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></code></pre></div>
<div id="tutorial-for-being-familiar-with-dataframe-in-r" class="section level3">
<h3>
<span class="header-section-number">95.0.1</span> Tutorial for being familiar with DataFrame in R<a class="anchor" aria-label="anchor" href="#tutorial-for-being-familiar-with-dataframe-in-r"><i class="fas fa-link"></i></a>
</h3>
<p>This tutorial will introduce some basic ways to help some beginners be familiar with the dataframe in R. Since usually when we plotting the graph, we need to handle the data well and it is unavoidable to process the data stored in the dataframe. Thus, this tutorial are made for people who are not familiar with the function that help user to do the operation on the dataframe in R.</p>
<div id="introduction-20" class="section level4">
<h4>
<span class="header-section-number">95.0.1.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-20"><i class="fas fa-link"></i></a>
</h4>
<p><img src="resources/Rayzyz_resources/111.jpeg" alt="Caption for the picture."><br>
The data frame is a table or a two-dimensional array-like structure in which each column contains values of one variable and each row contains one set of values from each column. There are several characteristics of a data frame<br>
1. The column names should be non-empty.<br>
2. The row names should be unique.<br>
3. The data stored in a data frame can be of numeric, factor or character type.<br>
4. Each column should contain same number of data items.<br></p>
<p>Next, I am going to introduce several basic operations for dataframe in R.</p>
<div class="sourceCode" id="cb1322"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a data frame.</span>
<span class="va">temp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
   index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>, 
   names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Rick"</span>,<span class="st">"Dan"</span>,<span class="st">"Michelle"</span>,<span class="st">"Ryan"</span>,<span class="st">"Gary"</span><span class="op">)</span>,
   salary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">623.3</span>,<span class="fl">515.2</span>,<span class="fl">611.0</span>,<span class="fl">729.0</span>,<span class="fl">843.25</span><span class="op">)</span>, 
   sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"male"</span>, <span class="st">"male"</span><span class="op">)</span>,
   Date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2012-01-01"</span>, <span class="st">"2013-09-23"</span>, <span class="st">"2014-11-15"</span>, <span class="st">"2014-05-11"</span>,
      <span class="st">"2015-03-27"</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>
<span class="co"># display the data frame.           </span>
<span class="va">temp</span> </code></pre></div>
<pre><code>##   index    names salary    sex       Date
## 1     1     Rick 623.30   male 2012-01-01
## 2     2      Dan 515.20 female 2013-09-23
## 3     3 Michelle 611.00   male 2014-11-15
## 4     4     Ryan 729.00   male 2014-05-11
## 5     5     Gary 843.25   male 2015-03-27</code></pre>
<p>As you can see, the format to create a dataframe has been in the above code. We need to explicitly states the value for each row and the column name. If we want to get the structure of the data frame, we could use the str() function</p>
<div class="sourceCode" id="cb1324"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">temp</span><span class="op">)</span></code></pre></div>
<pre><code>## 'data.frame':    5 obs. of  5 variables:
##  $ index : int  1 2 3 4 5
##  $ names : chr  "Rick" "Dan" "Michelle" "Ryan" ...
##  $ salary: num  623 515 611 729 843
##  $ sex   : chr  "male" "female" "male" "male" ...
##  $ Date  : Date, format: "2012-01-01" "2013-09-23" ...</code></pre>
<p>As shown above, all the information about the dataframe has been shown belowe like the number of observations and the column names. When we begin to process the data, we could use the str() function to help us be familiar with the dataframe for the processing later. But we coudl also use summary function to also get the information of the dataframe.</p>
<div class="sourceCode" id="cb1326"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/urca/man/summary-methods.html">summary</a></span><span class="op">(</span><span class="va">temp</span><span class="op">)</span></code></pre></div>
<pre><code>##      index      names               salary          sex           
##  Min.   :1   Length:5           Min.   :515.2   Length:5          
##  1st Qu.:2   Class :character   1st Qu.:611.0   Class :character  
##  Median :3   Mode  :character   Median :623.3   Mode  :character  
##  Mean   :3                      Mean   :664.4                     
##  3rd Qu.:4                      3rd Qu.:729.0                     
##  Max.   :5                      Max.   :843.2                     
##       Date           
##  Min.   :2012-01-01  
##  1st Qu.:2013-09-23  
##  Median :2014-05-11  
##  Mean   :2014-01-14  
##  3rd Qu.:2014-11-15  
##  Max.   :2015-03-27</code></pre>
<p>We could use the following code to iterate the dataframe when you want to do some operations on the dataframe</p>
<div class="sourceCode" id="cb1328"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">temp</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="co"># row represent each row in the dataframe</span>
    <span class="va">row</span> <span class="op">&lt;-</span> <span class="va">temp</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span>
    <span class="co"># we could get specific column value by $, for example print the names for each row</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">row</span><span class="op">$</span><span class="va">names</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "Rick"
## [1] "Dan"
## [1] "Michelle"
## [1] "Ryan"
## [1] "Gary"</code></pre>
<p>However, when we deal with the dataframe, some times we want to create a empty dataframe. We could achieve this by the following code.</p>
<div class="sourceCode" id="cb1330"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># A empty df with no column names and set the dimension of the dataframe to be 3*3</span>
<span class="va">emptydf</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>ncol <span class="op">=</span> <span class="fl">3</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="co"># setting the column names</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"age"</span>, <span class="st">"gender"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">emptydf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">x</span>
<span class="va">emptydf</span></code></pre></div>
<pre><code>##   name age gender
## 1   NA  NA     NA
## 2   NA  NA     NA
## 3   NA  NA     NA</code></pre>
<p>If we want to append rows into the empty dataframe by the following code</p>
<div class="sourceCode" id="cb1332"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># append at the first row</span>
<span class="va">emptydf</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"alex"</span>, <span class="fl">18</span>, <span class="st">"male"</span><span class="op">)</span>
<span class="co"># append at the second row</span>
<span class="va">emptydf</span><span class="op">[</span><span class="fl">2</span>,<span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tony"</span>, <span class="fl">21</span>, <span class="st">"male"</span><span class="op">)</span>
<span class="co"># append at the last row</span>
<span class="va">emptydf</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">emptydf</span><span class="op">)</span>,<span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ales"</span>, <span class="fl">25</span>, <span class="st">"female"</span><span class="op">)</span>
<span class="va">emptydf</span></code></pre></div>
<pre><code>##   name age gender
## 1 alex  18   male
## 2 tony  21   male
## 3 Ales  25 female</code></pre>
<p>We could also add whole columns in the dataframe by the following code.</p>
<div class="sourceCode" id="cb1334"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">emptydf</span><span class="op">$</span><span class="va">race</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"White"</span>,<span class="st">"Black"</span>,<span class="st">"White"</span><span class="op">)</span>
<span class="va">emptydf</span></code></pre></div>
<pre><code>##   name age gender  race
## 1 alex  18   male White
## 2 tony  21   male Black
## 3 Ales  25 female White</code></pre>
<p>However, sometimes we want append all the values from another dataframe to the current dataframe. Then we could use the rbind function to append the second dataframe to the first dataframe.</p>
<div class="sourceCode" id="cb1336"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>var1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Derick"</span>, <span class="st">"James"</span>, <span class="st">"Molly"</span><span class="op">)</span>,
                  var2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">23</span>, <span class="fl">12</span>, <span class="fl">6</span><span class="op">)</span>,
                  var3<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"male"</span>, <span class="st">"female"</span><span class="op">)</span>,
                  var4<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"black"</span>, <span class="st">"Asian"</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"age"</span>, <span class="st">"gender"</span>, <span class="st">"race"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">x</span>
<span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/rbindlist.html">rbind</a></span><span class="op">(</span><span class="va">emptydf</span>, <span class="va">df2</span><span class="op">)</span>
<span class="va">df3</span></code></pre></div>
<pre><code>##     name age gender  race
## 1   alex  18   male White
## 2   tony  21   male Black
## 3   Ales  25 female White
## 4 Derick  23   male black
## 5  James  12   male black
## 6  Molly   6 female Asian</code></pre>
<p>We could also extract specific colunme by following operation.</p>
<div class="sourceCode" id="cb1338"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">df3</span><span class="op">$</span><span class="va">gender</span>,<span class="va">df3</span><span class="op">$</span><span class="va">age</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span></code></pre></div>
<pre><code>##   df3.gender df3.age
## 1       male      18
## 2       male      21
## 3     female      25
## 4       male      23
## 5       male      12
## 6     female       6</code></pre>
<p>Besides, there is a important operation for the dataframe in R which is the index slicing. The index slicing is quite similar with python but not totally the same. The index slicing in R has been represented as[all rows, all columns]. For example, df3[1:2, ] represents we take the first two rows and all the columns and [, 1:2] represent we take all the rows but only first two columns</p>
<div class="sourceCode" id="cb1340"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># first case</span>
<span class="va">temp1</span> <span class="op">&lt;-</span> <span class="va">df3</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="op">]</span>
<span class="va">temp1</span></code></pre></div>
<pre><code>##   name age gender  race
## 1 alex  18   male White
## 2 tony  21   male Black</code></pre>
<div class="sourceCode" id="cb1342"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># second case</span>
<span class="va">temp2</span> <span class="op">&lt;-</span> <span class="va">df3</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>
<span class="va">temp2</span></code></pre></div>
<pre><code>##     name age
## 1   alex  18
## 2   tony  21
## 3   Ales  25
## 4 Derick  23
## 5  James  12
## 6  Molly   6</code></pre>
<p>At the same time, we could also use the subset to do the filter some values and get the rows that you want. The subset function also supports the logical operators.</p>
<div class="sourceCode" id="cb1344"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># first case</span>
<span class="va">temp3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/subset.html">subset</a></span><span class="op">(</span><span class="va">temp</span>, <span class="va">names</span> <span class="op">==</span> <span class="st">"Dan"</span> <span class="op">|</span> <span class="va">salary</span> <span class="op">&gt;</span> <span class="fl">750</span><span class="op">)</span>
<span class="va">temp3</span></code></pre></div>
<pre><code>##   index names salary    sex       Date
## 2     2   Dan 515.20 female 2013-09-23
## 5     5  Gary 843.25   male 2015-03-27</code></pre>
<div class="sourceCode" id="cb1346"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># second case</span>
<span class="va">temp4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/subset.html">subset</a></span><span class="op">(</span><span class="va">temp</span>, <span class="va">salary</span> <span class="op">&lt;</span> <span class="fl">700</span> <span class="op">&amp;</span> <span class="va">sex</span> <span class="op">==</span> <span class="st">"male"</span><span class="op">)</span>
<span class="va">temp4</span></code></pre></div>
<pre><code>##   index    names salary  sex       Date
## 1     1     Rick  623.3 male 2012-01-01
## 3     3 Michelle  611.0 male 2014-11-15</code></pre>
<p>Then these are all the basic operations for the dataframe, next I am going to use the dplyr pacakge to do some advanced operations on the dataframe.</p>
</div>
<div id="dplyr" class="section level4">
<h4>
<span class="header-section-number">95.0.1.2</span> Dplyr<a class="anchor" aria-label="anchor" href="#dplyr"><i class="fas fa-link"></i></a>
</h4>
<p><img src="resources/Rayzyz_resources/222.png" alt="Caption for the picture."><br></p>
<p>Dplyr is a grammar of data manipulation, providing a consistent set of verbs that help you solve the most common data manipulation challenges:<br>
1. mutate() adds new variables that are functions of existing variables.<br>
2. select() picks variables based on their names.<br>
3. filter() picks cases based on their values.<br>
4. summarise() reduces multiple values down to a single summary.<br>
5. arrange() changes the ordering of the rows.<br></p>
<p>Then, first we need to run the installation for the Dplyr package and import it</p>
<div class="sourceCode" id="cb1348"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#install.packages("dplyr")</span></code></pre></div>
<p>Next, we are going to use the stats_wl.csv as the example and import it using the read.csv function. Note, the csv file must be stored with same directory. Otherwise, you need to revise the path in order to import it.</p>
<div class="sourceCode" id="cb1349"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"resources/Rayzyz_resources/data.csv"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></code></pre></div>
<pre><code>##   duration credit_amount     savings_status employment  property_magnitude age
## 1        6          1169 'no known savings'      '&gt;=7'       'real estate'  67
## 2       48          5951             '&lt;100'   '1&lt;=X&lt;4'       'real estate'  22
## 3       12          2096             '&lt;100'   '4&lt;=X&lt;7'       'real estate'  49
## 4       42          7882             '&lt;100'   '4&lt;=X&lt;7'    'life insurance'  45
## 5       24          4870             '&lt;100'   '1&lt;=X&lt;4' 'no known property'  53
## 6       36          9055 'no known savings'   '1&lt;=X&lt;4' 'no known property'  35
##   own_telephone class
## 1                good
## 2                 bad
## 3                good
## 4          none  good
## 5                 bad
## 6                good</code></pre>
<p><code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>(and optionally rename) select variables in a data frame, using a concise mini-language that makes it easy to refer to variables based on their name.</p>
<div class="sourceCode" id="cb1351"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">duration</span>, <span class="va">employment</span>, <span class="va">age</span><span class="op">)</span></code></pre></div>
<pre><code>##    duration employment age
## 1         6      '&gt;=7'  67
## 2        48   '1&lt;=X&lt;4'  22
## 3        12   '4&lt;=X&lt;7'  49
## 4        42   '4&lt;=X&lt;7'  45
## 5        24   '1&lt;=X&lt;4'  53
## 6        36   '1&lt;=X&lt;4'  35
## 7        24      '&gt;=7'  53
## 8        36   '1&lt;=X&lt;4'  35
## 9        12   '4&lt;=X&lt;7'  61
## 10       30 unemployed  28</code></pre>
<p>We could also select the consecutive columns by the following code</p>
<div class="sourceCode" id="cb1353"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">duration</span><span class="op">:</span><span class="va">age</span><span class="op">)</span></code></pre></div>
<pre><code>##    duration credit_amount     savings_status employment  property_magnitude age
## 1         6          1169 'no known savings'      '&gt;=7'       'real estate'  67
## 2        48          5951             '&lt;100'   '1&lt;=X&lt;4'       'real estate'  22
## 3        12          2096             '&lt;100'   '4&lt;=X&lt;7'       'real estate'  49
## 4        42          7882             '&lt;100'   '4&lt;=X&lt;7'    'life insurance'  45
## 5        24          4870             '&lt;100'   '1&lt;=X&lt;4' 'no known property'  53
## 6        36          9055 'no known savings'   '1&lt;=X&lt;4' 'no known property'  35
## 7        24            NA      '500&lt;=X&lt;1000'      '&gt;=7'    'life insurance'  53
## 8        36            NA             '&lt;100'   '1&lt;=X&lt;4'                 car  35
## 9        12            NA           '&gt;=1000'   '4&lt;=X&lt;7'       'real estate'  61
## 10       30            NA             '&lt;100' unemployed                 car  28</code></pre>
<p>We could also select all the other columns by specifing the column that you do not want</p>
<div class="sourceCode" id="cb1355"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##    duration credit_amount     savings_status employment  property_magnitude
## 1         6          1169 'no known savings'      '&gt;=7'       'real estate'
## 2        48          5951             '&lt;100'   '1&lt;=X&lt;4'       'real estate'
## 3        12          2096             '&lt;100'   '4&lt;=X&lt;7'       'real estate'
## 4        42          7882             '&lt;100'   '4&lt;=X&lt;7'    'life insurance'
## 5        24          4870             '&lt;100'   '1&lt;=X&lt;4' 'no known property'
## 6        36          9055 'no known savings'   '1&lt;=X&lt;4' 'no known property'
## 7        24            NA      '500&lt;=X&lt;1000'      '&gt;=7'    'life insurance'
## 8        36            NA             '&lt;100'   '1&lt;=X&lt;4'                 car
## 9        12            NA           '&gt;=1000'   '4&lt;=X&lt;7'       'real estate'
## 10       30            NA             '&lt;100' unemployed                 car
##    own_telephone class
## 1                 good
## 2                  bad
## 3                 good
## 4           none  good
## 5                  bad
## 6                 good
## 7                 good
## 8                 good
## 9                 good
## 10                 bad</code></pre>
<p>We could also use <code>start_with()</code> , <code>end_with()</code> , and <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html">contains()</a></code> to match up some column names.</p>
<div class="sourceCode" id="cb1357"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># starts_with</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"dura"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##    duration
## 1         6
## 2        48
## 3        12
## 4        42
## 5        24
## 6        36
## 7        24
## 8        36
## 9        12
## 10       30</code></pre>
<div class="sourceCode" id="cb1359"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># contains</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">contains</a></span><span class="op">(</span><span class="st">"_"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##    credit_amount     savings_status  property_magnitude own_telephone
## 1           1169 'no known savings'       'real estate'              
## 2           5951             '&lt;100'       'real estate'              
## 3           2096             '&lt;100'       'real estate'              
## 4           7882             '&lt;100'    'life insurance'          none
## 5           4870             '&lt;100' 'no known property'              
## 6           9055 'no known savings' 'no known property'              
## 7             NA      '500&lt;=X&lt;1000'    'life insurance'              
## 8             NA             '&lt;100'                 car              
## 9             NA           '&gt;=1000'       'real estate'              
## 10            NA             '&lt;100'                 car</code></pre>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> function is used to subset a data frame, retaining all rows that satisfy your conditions. To be retained, the row must produce a value of TRUE for all conditions. Note that when a condition evaluates to NA the row will be dropped, unlike base subsetting with [.<br>
There are many functions and operators that are useful when constructing the expressions used to filter the data:<br>
1. <code>==</code>,<code>&gt;</code>,<code>&gt;=</code> etc.<br>
2. <code>&amp;</code>, <code>|</code>, <code>!</code>, xor().<br>
3. <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code>.<br>
4. <code><a href="https://dplyr.tidyverse.org/reference/between.html">between()</a></code>, <code><a href="https://dplyr.tidyverse.org/reference/near.html">near()</a></code>.<br></p>
<div class="sourceCode" id="cb1361"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get rows whose duration is &gt; 20 and class is good.</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">duration</span> <span class="op">&gt;</span> <span class="fl">20</span> <span class="op">&amp;</span> <span class="va">class</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/as.character.html">as.character</a></span><span class="op">(</span><span class="st">"good"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##   duration credit_amount     savings_status employment  property_magnitude age
## 1       42          7882             '&lt;100'   '4&lt;=X&lt;7'    'life insurance'  45
## 2       36          9055 'no known savings'   '1&lt;=X&lt;4' 'no known property'  35
## 3       24            NA      '500&lt;=X&lt;1000'      '&gt;=7'    'life insurance'  53
## 4       36            NA             '&lt;100'   '1&lt;=X&lt;4'                 car  35
##   own_telephone class
## 1          none  good
## 2                good
## 3                good
## 4                good</code></pre>
<div class="sourceCode" id="cb1363"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get rows whose duration is &gt; 20 or class is good.</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">duration</span> <span class="op">&gt;</span> <span class="fl">20</span> <span class="op">|</span> <span class="va">class</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/as.character.html">as.character</a></span><span class="op">(</span><span class="st">"good"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##    duration credit_amount     savings_status employment  property_magnitude age
## 1         6          1169 'no known savings'      '&gt;=7'       'real estate'  67
## 2        48          5951             '&lt;100'   '1&lt;=X&lt;4'       'real estate'  22
## 3        12          2096             '&lt;100'   '4&lt;=X&lt;7'       'real estate'  49
## 4        42          7882             '&lt;100'   '4&lt;=X&lt;7'    'life insurance'  45
## 5        24          4870             '&lt;100'   '1&lt;=X&lt;4' 'no known property'  53
## 6        36          9055 'no known savings'   '1&lt;=X&lt;4' 'no known property'  35
## 7        24            NA      '500&lt;=X&lt;1000'      '&gt;=7'    'life insurance'  53
## 8        36            NA             '&lt;100'   '1&lt;=X&lt;4'                 car  35
## 9        12            NA           '&gt;=1000'   '4&lt;=X&lt;7'       'real estate'  61
## 10       30            NA             '&lt;100' unemployed                 car  28
##    own_telephone class
## 1                 good
## 2                  bad
## 3                 good
## 4           none  good
## 5                  bad
## 6                 good
## 7                 good
## 8                 good
## 9                 good
## 10                 bad</code></pre>
<p>As you see in the above code, we could add various logical operations when filtering the dataframe even including the <code>xor</code>.</p>
<div class="sourceCode" id="cb1365"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">duration</span> <span class="op">&gt;</span> <span class="fl">20</span> <span class="op">&amp;</span> <span class="va">class</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/as.character.html">as.character</a></span><span class="op">(</span><span class="st">"good"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">credit_amount</span><span class="op">)</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<pre><code>##   duration credit_amount     savings_status employment  property_magnitude age
## 1       42          7882             '&lt;100'   '4&lt;=X&lt;7'    'life insurance'  45
## 2       36          9055 'no known savings'   '1&lt;=X&lt;4' 'no known property'  35
##   own_telephone class
## 1          none  good
## 2                good</code></pre>
<p>We could also use filter and is.na() to delete the rows whose credit_amount is NA. Thus, we could use filter to get the rows that you want based on your need.</p>
<p><code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> adds new variables and preserves existing ones.</p>
<div class="sourceCode" id="cb1367"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">duration</span>, <span class="va">class</span>, <span class="va">age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">class</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>por_age <span class="op">=</span> <span class="va">age</span><span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span> </code></pre></div>
<pre><code>## # A tibble: 10 × 4
## # Groups:   class [2]
##    duration class   age por_age
##       &lt;int&gt; &lt;chr&gt; &lt;int&gt;   &lt;dbl&gt;
##  1        6 good     67   1.36 
##  2       48 bad      22   0.641
##  3       12 good     49   0.994
##  4       42 good     45   0.913
##  5       24 bad      53   1.54 
##  6       36 good     35   0.710
##  7       24 good     53   1.08 
##  8       36 good     35   0.710
##  9       12 good     61   1.24 
## 10       30 bad      28   0.816</code></pre>
<p>We use the mutate to initialize a new column called the pro_age which is calculated by the age / mean(age)</p>
<p><code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> creates a new data frame. It will have one (or more) rows for each combination of grouping variables; if there are no grouping variables, the output will have a single row summarising all observations in the input. It will contain one column for each grouping variable and one column for each of the summary statistics that you have specified.</p>
<div class="sourceCode" id="cb1369"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">class</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>mean_age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span>, mean_duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">duration</span><span class="op">)</span>, count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 4
##   class mean_age mean_duration count
##   &lt;chr&gt;    &lt;dbl&gt;         &lt;dbl&gt; &lt;int&gt;
## 1 bad       34.3            34     3
## 2 good      49.3            24     7</code></pre>
<p>We use the <code>grou_by()</code> and <code>summarise</code> find out the mean age, mean duration and the total counts for the class good and class bad.</p>
<p><code>arrange</code> orders the rows of a data frame by the values of selected columns.</p>
<div class="sourceCode" id="cb1371"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">df</span>,<span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">property_magnitude</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>mean_age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span>, mean_duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">duration</span><span class="op">)</span>, count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">mean_age</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 4
##   property_magnitude  mean_age mean_duration count
##   &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt; &lt;int&gt;
## 1 car                     31.5          33       2
## 2 'no known property'     44            30       2
## 3 'life insurance'        49            33       2
## 4 'real estate'           49.8          19.5     4</code></pre>
<p>We could use the <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> to sort the values based on the variable that I choose. For the code below, I sort the dataframe by the variable mean_age with asenting order. We could also choose desc order by adding the <code><a href="https://dplyr.tidyverse.org/reference/desc.html">desc()</a></code> in front of the mean_age.</p>
</div>
<div id="join-two-tables" class="section level4">
<h4>
<span class="header-section-number">95.0.1.3</span> Join two tables<a class="anchor" aria-label="anchor" href="#join-two-tables"><i class="fas fa-link"></i></a>
</h4>
<p><img src="resources/Rayzyz_resources/333.jpeg" alt="Caption for the picture."><br></p>
<p>There are four different type of when we join the table which are left join, right join, inner join, and full join. Then we first create two dataframe which are df1 and df2.</p>
<div class="sourceCode" id="cb1373"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
   index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, 
   State <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"GA"</span>,<span class="st">"GA"</span>, <span class="st">"GA"</span>,<span class="st">"FL"</span>,<span class="st">"FL"</span>,<span class="st">"FL"</span>,<span class="st">"AL"</span>,<span class="st">"AL"</span>,<span class="st">"AL"</span>, <span class="st">"CA"</span><span class="op">)</span>, 
   Limit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"50000"</span>, <span class="st">"50000"</span>, <span class="st">"40000"</span>, <span class="st">"30000"</span>, <span class="st">"75000"</span>,<span class="st">"75000"</span>, <span class="st">"85000"</span>, <span class="st">"90000"</span>, <span class="st">"45000"</span>, <span class="st">"125000"</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">df1</span></code></pre></div>
<pre><code>##    index State  Limit
## 1      1    GA  50000
## 2      2    GA  50000
## 3      3    GA  40000
## 4      4    FL  30000
## 5      5    FL  75000
## 6      6    FL  75000
## 7      7    AL  85000
## 8      8    AL  90000
## 9      9    AL  45000
## 10    10    CA 125000</code></pre>
<div class="sourceCode" id="cb1375"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
   index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>, 
   State <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"GA"</span>,<span class="st">"FL"</span>, <span class="st">"AL"</span>, <span class="st">"OH"</span><span class="op">)</span>, 
   regulatory_limit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"50000"</span>, <span class="st">"75000"</span>, <span class="st">"45000"</span>, <span class="st">"48000"</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">df2</span></code></pre></div>
<pre><code>##   index State regulatory_limit
## 1     1    GA            50000
## 2     2    FL            75000
## 3     3    AL            45000
## 4     4    OH            48000</code></pre>
<p>Left Join will join the table based on the common values that df1 and df2 both have. If the values in df1 can not find in df2, then keep it but missing values for the corresponding column in df2 will be initialized to NA</p>
<div class="sourceCode" id="cb1377"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">df2</span>, by<span class="op">=</span><span class="st">"State"</span><span class="op">)</span></code></pre></div>
<pre><code>##    index.x State  Limit index.y regulatory_limit
## 1        1    GA  50000       1            50000
## 2        2    GA  50000       1            50000
## 3        3    GA  40000       1            50000
## 4        4    FL  30000       2            75000
## 5        5    FL  75000       2            75000
## 6        6    FL  75000       2            75000
## 7        7    AL  85000       3            45000
## 8        8    AL  90000       3            45000
## 9        9    AL  45000       3            45000
## 10      10    CA 125000      NA             &lt;NA&gt;</code></pre>
<p>Right Join will join the table based on the common values that df1 and df2 both have. If the values in df2 can not find in df1, then keep it but missing values for the corresponding column in df1 will be initialized to NA</p>
<div class="sourceCode" id="cb1379"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">right_join</a></span><span class="op">(</span><span class="va">df2</span>, by<span class="op">=</span><span class="st">"State"</span><span class="op">)</span></code></pre></div>
<pre><code>##    index.x State Limit index.y regulatory_limit
## 1        1    GA 50000       1            50000
## 2        2    GA 50000       1            50000
## 3        3    GA 40000       1            50000
## 4        4    FL 30000       2            75000
## 5        5    FL 75000       2            75000
## 6        6    FL 75000       2            75000
## 7        7    AL 85000       3            45000
## 8        8    AL 90000       3            45000
## 9        9    AL 45000       3            45000
## 10      NA    OH  &lt;NA&gt;       4            48000</code></pre>
<p>Inner Join will join two tables where all the values are shared by df1 and df2</p>
<div class="sourceCode" id="cb1381"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">df2</span>, by<span class="op">=</span><span class="st">"State"</span><span class="op">)</span></code></pre></div>
<pre><code>##   index.x State Limit index.y regulatory_limit
## 1       1    GA 50000       1            50000
## 2       2    GA 50000       1            50000
## 3       3    GA 40000       1            50000
## 4       4    FL 30000       2            75000
## 5       5    FL 75000       2            75000
## 6       6    FL 75000       2            75000
## 7       7    AL 85000       3            45000
## 8       8    AL 90000       3            45000
## 9       9    AL 45000       3            45000</code></pre>
<p>Full_join will concate all the values in df1 and df2 and leave NA for those values which can not be find in the other table.</p>
<div class="sourceCode" id="cb1383"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">df2</span>, by<span class="op">=</span><span class="st">"State"</span><span class="op">)</span></code></pre></div>
<pre><code>##    index.x State  Limit index.y regulatory_limit
## 1        1    GA  50000       1            50000
## 2        2    GA  50000       1            50000
## 3        3    GA  40000       1            50000
## 4        4    FL  30000       2            75000
## 5        5    FL  75000       2            75000
## 6        6    FL  75000       2            75000
## 7        7    AL  85000       3            45000
## 8        8    AL  90000       3            45000
## 9        9    AL  45000       3            45000
## 10      10    CA 125000      NA             &lt;NA&gt;
## 11      NA    OH   &lt;NA&gt;       4            48000</code></pre>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="how-to-animate-your-plots.html"><span class="header-section-number">94</span> How to animate your plots</a></div>
<div class="next"><a href="a-brief-instruction-for-the-half-semester-of-edav5702.html"><span class="header-section-number">96</span> A brief instruction for the half semester of EDAV5702</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav"><li>
<a class="nav-link" href="#dataframe-operations-tutorial"><span class="header-section-number">95</span> Dataframe operations tutorial</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#tutorial-for-being-familiar-with-dataframe-in-r"><span class="header-section-number">95.0.1</span> Tutorial for being familiar with DataFrame in R</a></li></ul>
</li></ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/jtr13/cc21fall2/blob/main/dataframe_operation_tutorial.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/jtr13/cc21fall2/edit/main/dataframe_operation_tutorial.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>EDAV Fall 2021 Tues/Thurs Community Contributions</strong>" was written by . It was last built on 2021-12-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
