<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 35 Downloading files | EDAV Fall 2021 Tues/Thurs Community Contributions</title>
<meta name="description" content="Aaron Aknin and Ashkan Bozorgzad So this Section is about how do you use r to download files. It is important to use the right method when importing a dataset in order to optimize its use.  35.1...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 35 Downloading files | EDAV Fall 2021 Tues/Thurs Community Contributions">
<meta property="og:type" content="book">
<meta property="og:description" content="Aaron Aknin and Ashkan Bozorgzad So this Section is about how do you use r to download files. It is important to use the right method when importing a dataset in order to optimize its use.  35.1...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 35 Downloading files | EDAV Fall 2021 Tues/Thurs Community Contributions">
<meta name="twitter:description" content="Aaron Aknin and Ashkan Bozorgzad So this Section is about how do you use r to download files. It is important to use the right method when importing a dataset in order to optimize its use.  35.1...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script><link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script><script src="libs/dygraphs-1.1.1/shapes.js"></script><script src="libs/moment-2.8.4/moment.js"></script><script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-8.1.2/highcharts.js"></script><script src="libs/highcharts-8.1.2/highcharts-3d.js"></script><script src="libs/highcharts-8.1.2/highcharts-more.js"></script><script src="libs/highcharts-8.1.2/modules/stock.js"></script><script src="libs/highcharts-8.1.2/modules/map.js"></script><script src="libs/highcharts-8.1.2/modules/annotations.js"></script><script src="libs/highcharts-8.1.2/modules/data.js"></script><script src="libs/highcharts-8.1.2/modules/drilldown.js"></script><script src="libs/highcharts-8.1.2/modules/item-series.js"></script><script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script><script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-8.1.2/modules/exporting.js"></script><script src="libs/highcharts-8.1.2/modules/export-data.js"></script><script src="libs/highcharts-8.1.2/modules/funnel.js"></script><script src="libs/highcharts-8.1.2/modules/heatmap.js"></script><script src="libs/highcharts-8.1.2/modules/treemap.js"></script><script src="libs/highcharts-8.1.2/modules/sankey.js"></script><script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script><script src="libs/highcharts-8.1.2/modules/organization.js"></script><script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script><script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script><script src="libs/highcharts-8.1.2/modules/sunburst.js"></script><script src="libs/highcharts-8.1.2/modules/vector.js"></script><script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script><script src="libs/highcharts-8.1.2/modules/xrange.js"></script><script src="libs/highcharts-8.1.2/modules/tilemap.js"></script><script src="libs/highcharts-8.1.2/modules/venn.js"></script><script src="libs/highcharts-8.1.2/modules/gantt.js"></script><script src="libs/highcharts-8.1.2/modules/timeline.js"></script><script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script><script src="libs/highcharts-8.1.2/modules/bullet.js"></script><script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script><script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script><script src="libs/highcharts-8.1.2/modules/lollipop.js"></script><script src="libs/highcharts-8.1.2/modules/series-label.js"></script><script src="libs/highcharts-8.1.2/plugins/motion.js"></script><script src="libs/highcharts-8.1.2/custom/reset.js"></script><script src="libs/highcharts-8.1.2/modules/boost.js"></script><script src="libs/highchart-binding-0.8.2/highchart.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">EDAV Fall 2021 Tues/Thurs Community Contributions</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Welcome!</a></li>
<li><a class="" href="community-contribution.html"><span class="header-section-number">2</span> Community Contribution</a></li>
<li><a class="" href="github-submission-instructions.html"><span class="header-section-number">3</span> GitHub submission instructions</a></li>
<li><a class="" href="sample-project.html"><span class="header-section-number">4</span> Sample project</a></li>
<li class="book-part">Cheatsheets</li>
<li><a class="" href="statistics-in-r-vs-python.html"><span class="header-section-number">5</span> Statistics in R vs Python</a></li>
<li><a class="" href="data-visualization-with-seaborn.html"><span class="header-section-number">6</span> Data Visualization with Seaborn</a></li>
<li><a class="" href="how-to-make-your-own-r-package.html"><span class="header-section-number">7</span> How to Make Your Own R package</a></li>
<li><a class="" href="rchess-package-cheatsheet.html"><span class="header-section-number">8</span> RChess package cheatsheet</a></li>
<li><a class="" href="hypothesis-testing-cheatsheet.html"><span class="header-section-number">9</span> Hypothesis testing cheatsheet</a></li>
<li><a class="" href="interactive-web-visualizations-for-r-cheatsheet.html"><span class="header-section-number">10</span> Interactive web visualizations for R cheatsheet"</a></li>
<li><a class="" href="ggforce.html"><span class="header-section-number">11</span> ggforce</a></li>
<li><a class="" href="gganimate-cheatsheet.html"><span class="header-section-number">12</span> GGanimate cheatsheet</a></li>
<li><a class="" href="statistical-tests-and-parameter-estimations-in-r-cheatsheet.html"><span class="header-section-number">13</span> Statistical Tests and Parameter Estimations in R Cheatsheet</a></li>
<li><a class="" href="ggalluvial-cheat-sheet.html"><span class="header-section-number">14</span> ggalluvial-cheat-sheet</a></li>
<li><a class="" href="introduction-to-plotly.html"><span class="header-section-number">15</span> Introduction to plotly</a></li>
<li><a class="" href="draw-graphs-using-python-and-r.html"><span class="header-section-number">16</span> draw graphs using python and R</a></li>
<li><a class="" href="data-visualization-packages-in-r.html"><span class="header-section-number">17</span> Data Visualization Packages in R</a></li>
<li><a class="" href="esquisse-cheat-sheet.html"><span class="header-section-number">18</span> Esquisse Cheat sheet</a></li>
<li><a class="" href="review-sheet-for-r-code-and-data-transformation.html"><span class="header-section-number">19</span> review sheet for r code and data transformation</a></li>
<li><a class="" href="scrape-twitter-data-using-r.html"><span class="header-section-number">20</span> Scrape Twitter data using R</a></li>
<li><a class="" href="r-note-and-mathematics-in-rmd-cheatsheet.html"><span class="header-section-number">21</span> R note and Mathematics in Rmd cheatsheet</a></li>
<li><a class="" href="textbook-notes.html"><span class="header-section-number">22</span> Textbook Notes</a></li>
<li><a class="" href="ggplot2-cheatsheet.html"><span class="header-section-number">23</span> ggplot2 cheatsheet</a></li>
<li><a class="" href="rstudio-cheatsheet.html"><span class="header-section-number">24</span> RStudio Cheatsheet</a></li>
<li><a class="" href="d3-visualization-in-r-cheatsheet.html"><span class="header-section-number">25</span> D3 Visualization in R Cheatsheet</a></li>
<li class="book-part">Tutorials</li>
<li><a class="" href="tutorial-on-cluster-analysis.html"><span class="header-section-number">26</span> Tutorial on Cluster Analysis</a></li>
<li><a class="" href="how-to-integrate-r-with-postgresql.html"><span class="header-section-number">27</span> How to Integrate R with PostgreSQL</a></li>
<li><a class="" href="apply-function-in-r.html"><span class="header-section-number">28</span> Apply function in r</a></li>
<li><a class="" href="introduction-to-interactive-graphs-in-r.html"><span class="header-section-number">29</span> Introduction to interactive graphs in R</a></li>
<li><a class="" href="plot-and-analyze-stock-data-with-r.html"><span class="header-section-number">30</span> Plot and Analyze Stock Data with R</a></li>
<li><a class="" href="data-visulization-ordering.html"><span class="header-section-number">31</span> Data Visulization Ordering</a></li>
<li><a class="" href="tutorial-on-lattice-package-in-r.html"><span class="header-section-number">32</span> Tutorial on lattice package in R</a></li>
<li><a class="" href="network-visualization-in-r.html"><span class="header-section-number">33</span> Network Visualization in R</a></li>
<li><a class="" href="dplyr-tutorial-in-r.html"><span class="header-section-number">34</span> Dplyr tutorial in R</a></li>
<li><a class="active" href="downloading-files.html"><span class="header-section-number">35</span> Downloading files</a></li>
<li><a class="" href="video-introduction-to-maps-with-ggmap.html"><span class="header-section-number">36</span> Video introduction to maps with ggmap</a></li>
<li><a class="" href="comparison-among-base-r-tidyverse-and-datatable.html"><span class="header-section-number">37</span> Comparison among base R, tidyverse, and datatable</a></li>
<li><a class="" href="raincloud-plot-101-density-plot-or-boxplotwhy-not-do-both.html"><span class="header-section-number">38</span> Raincloud plot 101: density plot or boxplot？Why not do both!</a></li>
<li><a class="" href="an-introduction-to-dygraph-in-r.html"><span class="header-section-number">39</span> An Introduction to Dygraph in R</a></li>
<li><a class="" href="streamlit-tutorial.html"><span class="header-section-number">40</span> Streamlit Tutorial</a></li>
<li><a class="" href="hive-plots-with-the-ggraph-and-hiver-packages.html"><span class="header-section-number">41</span> Hive plots with the ggraph and hiver packages</a></li>
<li><a class="" href="introduction-to-xai-explainable-ai-in-r.html"><span class="header-section-number">42</span> Introduction to XAI (Explainable AI) in R</a></li>
<li><a class="" href="tutorial-for-gg_cleveland.html"><span class="header-section-number">43</span> Tutorial for gg_cleveland</a></li>
<li><a class="" href="neural-network-tools-in-r.html"><span class="header-section-number">44</span> Neural network tools in R</a></li>
<li><a class="" href="r-dplyr-vs-python-pandas.html"><span class="header-section-number">45</span> R Dplyr vs Python Pandas</a></li>
<li><a class="" href="readable-plots.html"><span class="header-section-number">46</span> Readable Plots</a></li>
<li><a class="" href="introduction-to-exploratory-spatial-data-analysis-and-visualization-using-qgis.html"><span class="header-section-number">47</span> Introduction to exploratory spatial data analysis and visualization using QGIS</a></li>
<li><a class="" href="data-visualization-in-python-vs-r.html"><span class="header-section-number">48</span> Data Visualization in Python vs R</a></li>
<li><a class="" href="base-r-tutorial.html"><span class="header-section-number">49</span> Base R Tutorial</a></li>
<li><a class="" href="python-altair-visualization-method-tutorial.html"><span class="header-section-number">50</span> Python Altair Visualization Method Tutorial</a></li>
<li><a class="" href="r-to-python-easy-plot.html"><span class="header-section-number">51</span> R to python easy plot</a></li>
<li><a class="" href="introduction-to-models-and-prediction-evaluation.html"><span class="header-section-number">52</span> Introduction to models and prediction evaluation</a></li>
<li><a class="" href="introduction-to-interactive-time-series-visualizations-with-dygraphs-in-r.html"><span class="header-section-number">53</span> Introduction to Interactive Time Series Visualizations with dygraphs in R</a></li>
<li><a class="" href="integrate-r-with-python.html"><span class="header-section-number">54</span> Integrate R with Python</a></li>
<li><a class="" href="python-visualization-tutorial.html"><span class="header-section-number">55</span> Python Visualization Tutorial</a></li>
<li><a class="" href="gganimate-tutorial.html"><span class="header-section-number">56</span> Gganimate Tutorial</a></li>
<li><a class="" href="get-nba-dataset-in-r.html"><span class="header-section-number">57</span> Get NBA dataset in R</a></li>
<li><a class="" href="mtemplates.html"><span class="header-section-number">58</span> Mtemplates</a></li>
<li><a class="" href="introduction-to-time-series-analysis-in-r.html"><span class="header-section-number">59</span> Introduction to Time Series Analysis in R</a></li>
<li><a class="" href="storytelling-with-data.html"><span class="header-section-number">60</span> Storytelling with Data</a></li>
<li><a class="" href="tutorial-on-r-torch-package.html"><span class="header-section-number">61</span> Tutorial on R torch package</a></li>
<li class="book-part">Project &amp; Workshops</li>
<li><a class="" href="introduction-to-analytics-consulting-at-accenture.html"><span class="header-section-number">62</span> Introduction to analytics consulting at Accenture</a></li>
<li><a class="" href="map-of-the-r-world.html"><span class="header-section-number">63</span> Map of the R world</a></li>
<li><a class="" href="alluvial-diagrams-and-their-implementation-using-ggalluvial-in-r.html"><span class="header-section-number">64</span> Alluvial diagrams and their implementation using GGalluvial in R</a></li>
<li class="book-part">Data Visualization</li>
<li><a class="" href="an-introduction-to-pyecharts-package-in-python.html"><span class="header-section-number">65</span> An introduction to pyecharts package in Python</a></li>
<li><a class="" href="visualization-in-r-v.s.-python.html"><span class="header-section-number">66</span> Visualization in R v.s. Python</a></li>
<li><a class="" href="understand-data-with-plots.html"><span class="header-section-number">67</span> Understand data with plots</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="github-initial-setup.html"><span class="header-section-number">68</span> Github initial setup</a></li>
<li><a class="" href="tutorial-for-pull-request-mergers.html"><span class="header-section-number">69</span> Tutorial for pull request mergers</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/jtr13/cc21fall2">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="downloading-files" class="section level1">
<h1>
<span class="header-section-number">35</span> Downloading files<a class="anchor" aria-label="anchor" href="#downloading-files"><i class="fas fa-link"></i></a>
</h1>
<p>Aaron Aknin and Ashkan Bozorgzad</p>
<p>So this Section is about how do you use r to download files. It is important to use the right method when importing a dataset in order to optimize its use.</p>
<div id="getset-your-working-directory" class="section level2">
<h2>
<span class="header-section-number">35.1</span> Get/set your working directory<a class="anchor" aria-label="anchor" href="#getset-your-working-directory"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>A basic component of working with data is knowing your working directory</li>
<li>The two main commands are <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> and <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code>.</li>
<li>Be aware of relative versus absolute paths</li>
</ul>
</div>
<div id="checking-for-and-creating-directories" class="section level2">
<h2>
<span class="header-section-number">35.2</span> Checking for and creating directories<a class="anchor" aria-label="anchor" href="#checking-for-and-creating-directories"><i class="fas fa-link"></i></a>
</h2>
<p><code>file.exists ("directoryName")</code> will check to see if the directory exists and <code>dir.create ("directoryName")</code> will create a directory if it doesn’t exist. Here is an example checking for a “data” directory and creating it if it doesn’t exist.</p>
<div class="sourceCode" id="cb307"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
        <span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span>
        <span class="op">}</span></code></pre></div>
</div>
<div id="download-a-file-from-the-web" class="section level2">
<h2>
<span class="header-section-number">35.3</span> Download a file from the web<a class="anchor" aria-label="anchor" href="#download-a-file-from-the-web"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Download a file from the internet</li>
<li>Even if you could do this by hand, helps with reproducibility</li>
<li>Important parameters are <em>url</em>, <em>destfile</em>, <em>method</em>
</li>
<li>Useful for downloading tab-delimited, csv, and other files</li>
</ul>
<p>The method that we’re going to use is <code>curl</code>. This is necessary because this website is an https, secure website, and so if you’re doing this from a Mac, you need to specify the method is curl in order for it to work. If you list the files in this data directory, You see that we now have one file in that directory, and it’s the cameras.csv file.</p>
<div class="sourceCode" id="cb308"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span> <span class="st">"./data"</span> <span class="op">)</span></code></pre></div>
<pre><code>## [1] "output.csv"</code></pre>
<p>An important component of downloading files from the internet is that those files might change. So you want to keep track of the date that you downloaded the data, and you can do that with the date function. So you just assign to dateDownloaded the command date and that will give you the date that those data were downloaded.</p>
<div class="sourceCode" id="cb310"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dateDownloaded</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/date.html">date</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">dateDownloaded</span></code></pre></div>
<pre><code>## [1] "Sat Nov  6 04:04:20 2021"</code></pre>
</div>
<div id="reading-local-files" class="section level2">
<h2>
<span class="header-section-number">35.4</span> Reading Local Files<a class="anchor" aria-label="anchor" href="#reading-local-files"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Loading flat files - read.table().</li>
<li>This is the main function for reading data into R.</li>
<li>Flexible and robust but requires more parameters.</li>
<li>Reads the data into RAM so big data can cause problems.</li>
</ul>
<div class="sourceCode" id="cb312"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span> <span class="st">"resources/downloading_files/output.csv"</span> , sep <span class="op">=</span> <span class="st">","</span>,header<span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></code></pre></div>
<pre><code>##   year industry_code_ANZSIC              industry_name_ANZSIC rme_size_grp
## 1 2011                    A Agriculture, Forestry and Fishing          a_0
## 2 2011                    A Agriculture, Forestry and Fishing          a_0
## 3 2011                    A Agriculture, Forestry and Fishing          a_0
## 4 2011                    A Agriculture, Forestry and Fishing          a_0
## 5 2011                    A Agriculture, Forestry and Fishing          a_0
## 6 2011                    A Agriculture, Forestry and Fishing          a_0
##                                          variable value              unit
## 1                                   Activity unit 46134             COUNT
## 2                          Rolling mean employees     0             COUNT
## 3                         Salaries and wages paid   279 DOLLARS(millions)
## 4 Sales, government funding, grants and subsidies  8187 DOLLARS(millions)
## 5                                    Total income  8866 DOLLARS(millions)
## 6                               Total expenditure  7618 DOLLARS(millions)</code></pre>
<p>You can also use read.csv in the case that you have a csv file, it automatically sets sep equal to the quote comma and it automatically sets header = TRUE.</p>
<div class="sourceCode" id="cb314"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span> <span class="st">"resources/downloading_files/output.csv"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></code></pre></div>
<pre><code>##   year industry_code_ANZSIC              industry_name_ANZSIC rme_size_grp
## 1 2011                    A Agriculture, Forestry and Fishing          a_0
## 2 2011                    A Agriculture, Forestry and Fishing          a_0
## 3 2011                    A Agriculture, Forestry and Fishing          a_0
## 4 2011                    A Agriculture, Forestry and Fishing          a_0
## 5 2011                    A Agriculture, Forestry and Fishing          a_0
## 6 2011                    A Agriculture, Forestry and Fishing          a_0
##                                          variable value              unit
## 1                                   Activity unit 46134             COUNT
## 2                          Rolling mean employees     0             COUNT
## 3                         Salaries and wages paid   279 DOLLARS(millions)
## 4 Sales, government funding, grants and subsidies  8187 DOLLARS(millions)
## 5                                    Total income  8866 DOLLARS(millions)
## 6                               Total expenditure  7618 DOLLARS(millions)</code></pre>
<div id="some-more-important-parameters" class="section level3">
<h3>
<span class="header-section-number">35.4.1</span> Some more important parameters<a class="anchor" aria-label="anchor" href="#some-more-important-parameters"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>quote - you can tell R whether there are any quoted values quote="" means no quotes.</li>
<li>na.strings - set the character that represents a missing value.</li>
<li>nrows - how many rows to read of the file (e.g. nrows=10 reads 10 lines).</li>
<li>skip- number of lines to skip before starting to read</li>
</ul>
</div>
</div>
<div id="reading-xml" class="section level2">
<h2>
<span class="header-section-number">35.5</span> Reading XML<a class="anchor" aria-label="anchor" href="#reading-xml"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Extensible markup language</li>
<li>Frequently used to store structured data</li>
<li>Particularly widely used in internet applications</li>
<li>Extracting XML is the basis for most web scraping</li>
<li>Components
<ul>
<li>Markup - labels that give the text structure</li>
<li>Content - the actual text of the document</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb316"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fileURL</span><span class="op">&lt;-</span><span class="st">"https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"</span>
<span class="va">doc</span> <span class="op">&lt;-</span> <span class="fu">xmlTreeParse</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">sub</a></span><span class="op">(</span><span class="st">"s"</span>, <span class="st">""</span>, <span class="va">fileURL</span><span class="op">)</span>, useInternal <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">rootNode</span> <span class="op">&lt;-</span> <span class="fu">xmlRoot</span><span class="op">(</span><span class="va">doc</span><span class="op">)</span>

<span class="fu">xmlName</span><span class="op">(</span><span class="va">rootNode</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "response"</code></pre>
<div class="sourceCode" id="cb318"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rootNode</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>## &lt;row _id="1" _uuid="93CACF6F-C8C2-4B87-95A8-8177806D5A6F" _position="1" _address="http://data.baltimorecity.gov/resource/k5ry-ef3g/1"&gt;
##   &lt;name&gt;410&lt;/name&gt;
##   &lt;zipcode&gt;21206&lt;/zipcode&gt;
##   &lt;neighborhood&gt;Frankford&lt;/neighborhood&gt;
##   &lt;councildistrict&gt;2&lt;/councildistrict&gt;
##   &lt;policedistrict&gt;NORTHEASTERN&lt;/policedistrict&gt;
##   &lt;location_1 human_address="{&amp;quot;address&amp;quot;:&amp;quot;4509 BELAIR ROAD&amp;quot;,&amp;quot;city&amp;quot;:&amp;quot;Baltimore&amp;quot;,&amp;quot;state&amp;quot;:&amp;quot;MD&amp;quot;,&amp;quot;zip&amp;quot;:&amp;quot;&amp;quot;}" needs_recoding="true"/&gt;
## &lt;/row&gt;</code></pre>
</div>
<div id="reading-json" class="section level2">
<h2>
<span class="header-section-number">35.6</span> Reading JSON<a class="anchor" aria-label="anchor" href="#reading-json"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Javascript Object Notation</li>
<li>Lightweight data storage</li>
<li>Common format for data from application programming interfaces (APIs)</li>
<li>Similar structure to XML but different syntax/format</li>
<li>Data stored as
<ul>
<li>Numbers (double)</li>
<li>Strings (double quoted)</li>
<li>Boolean (<em>true</em> or <em>false</em>)</li>
<li>Array (ordered, comma separated enclosed in square brackets <em>[]</em>)</li>
<li>Object (unorderd, comma separated collection of key:value pairs in curley brackets <em>{}</em>)</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb320"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># extracting data from the website</span>
<span class="va">jsonData</span> <span class="op">&lt;-</span> <span class="fu">fromJSON</span><span class="op">(</span><span class="st">"https://data.ny.gov/api/views/9a8c-vfzj/rows.json?accessType=DOWNLOAD"</span><span class="op">)</span>
<span class="co"># extract the data node</span>
<span class="va">food_market</span> <span class="op">&lt;-</span> <span class="va">jsonData</span><span class="op">[[</span><span class="st">'data'</span><span class="op">]</span><span class="op">]</span>
<span class="co"># assembling the data into data frames</span>

<span class="va">food_market</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">19</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] "GREENVILLE"</code></pre>
<p>The <code>httr</code> package allows to connect to websites and to connect to APIs. It allows, when a <code>GET</code> request is made (a request to access the result of a search), to retrieve the result in the form of a text to be reworked. In general, a call to an API via <code>httr</code> is made as follows:</p>
<div class="sourceCode" id="cb322"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">url</span> <span class="op">&lt;-</span> <span class="st">"https://world.openfoodfacts.org/api/v0/product/3017620425400.json"</span>

<span class="va">results</span> <span class="op">&lt;-</span> 
  <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/content.html">content</a></span><span class="op">(</span>
    <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/GET.html">GET</a></span><span class="op">(</span><span class="va">url</span><span class="op">)</span>,             <span class="co"># url to query</span>
    as<span class="op">=</span><span class="st">"text"</span>,                  <span class="co"># type of the output</span>
    <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/content_type.html">content_type_json</a></span><span class="op">(</span><span class="op">)</span>,  <span class="co"># type of the answer</span>
    encoding<span class="op">=</span> <span class="st">"UTF-8"</span>           <span class="co"># encoding of the answer</span>
  <span class="op">)</span>

<span class="va">jsonData</span> <span class="op">&lt;-</span><span class="fu">fromJSON</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></code></pre></div>
</div>
<div id="webscraping" class="section level2">
<h2>
<span class="header-section-number">35.7</span> Webscraping<a class="anchor" aria-label="anchor" href="#webscraping"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>It can be a great way to get data</li>
<li>Many websites have information you may want to programaticaly read</li>
<li>In some cases this is against the terms of service for the website</li>
<li>Attempting to read too many pages too quickly can get your IP address blocked</li>
</ul>
<p>In order to retrieve data from a web page we can use the <code>rvest</code> package.</p>
<p>In order to begin parsing a web page, we must first request this data from the computer server that contains it. In <code>rvest</code>, the function that does this is the <code>read_html()</code> function. For this tutorial we will use a weather website, the National Weather Service website.</p>
<div class="sourceCode" id="cb323"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">page</span> <span class="op">&lt;-</span> <span class="fu">read_html</span><span class="op">(</span><span class="st">"https://forecast.weather.gov/MapClick.php?lat=37.7771&amp;lon=-122.4196#.Xl0j6BNKhTY"</span><span class="op">)</span>
<span class="va">page</span></code></pre></div>
<pre><code>## {html_document}
## &lt;html class="no-js"&gt;
## [1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
## [2] &lt;body&gt;\n        &lt;main class="container"&gt;&lt;header class="row clearfix" id=" ...</code></pre>
The goal being to recover the temperatures, we will search via the developer mode of Google Chrome the identifier of the Html tags where the information is located. Exemple :
<p class="temp temp-high">
High: 63 °F
</p>
<div class="sourceCode" id="cb325"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">results</span> <span class="op">=</span> <span class="va">page</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu">html_nodes</span><span class="op">(</span><span class="st">".temp"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu">html_text</span><span class="op">(</span><span class="op">)</span>
<span class="va">results</span></code></pre></div>
<pre><code>## [1] "Low: 55 °F"  "High: 64 °F" "Low: 50 °F"  "High: 62 °F" "Low: 48 °F" 
## [6] "High: 60 °F" "Low: 52 °F"  "High: 64 °F" "Low: 54 °F"</code></pre>
<p>It is hard to read, One way to deal with that is to, as we’ve seen before is to use the XML package. So again, we could use this same URL. Use the XML package, and parse the HTML again, using the InternalNodes to get the complete structure out.</p>
</div>
<div id="dplyr-pachage" class="section level2">
<h2>
<span class="header-section-number">35.8</span> dplyr Pachage<a class="anchor" aria-label="anchor" href="#dplyr-pachage"><i class="fas fa-link"></i></a>
</h2>
<p>This section is about the dplyr package in R, which is a package specifically designed to help you work with data frames. So in this lecture we will just cover the basics to introduce the package and we’ll talk about the verbs arrange, filter, select, mutate and rename.</p>
<div id="load-the-dplyr-package" class="section level3">
<h3>
<span class="header-section-number">35.8.1</span> Load the dplyr package<a class="anchor" aria-label="anchor" href="#load-the-dplyr-package"><i class="fas fa-link"></i></a>
</h3>
<p>The dataset we are going to work is a data set on air pollution and weather variables in the city of Chicago for the years 1987 to 2005, and it’s kind of daily data.</p>
<div class="sourceCode" id="cb327"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chicago</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="st">"resources/downloading_files/chicago.rds"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">chicago</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 6940    8</code></pre>
<div class="sourceCode" id="cb329"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">chicago</span><span class="op">)</span></code></pre></div>
<pre><code>## 'data.frame':    6940 obs. of  8 variables:
##  $ city      : chr  "chic" "chic" "chic" "chic" ...
##  $ tmpd      : num  31.5 33 33 29 32 40 34.5 29 26.5 32.5 ...
##  $ dptp      : num  31.5 29.9 27.4 28.6 28.9 ...
##  $ date      : Date, format: "1987-01-01" "1987-01-02" ...
##  $ pm25tmean2: num  NA NA NA NA NA NA NA NA NA NA ...
##  $ pm10tmean2: num  34 NA 34.2 47 NA ...
##  $ o3tmean2  : num  4.25 3.3 3.33 4.38 4.75 ...
##  $ no2tmean2 : num  20 23.2 23.8 30.4 30.3 ...</code></pre>
</div>
<div id="select" class="section level3">
<h3>
<span class="header-section-number">35.8.2</span> Select<a class="anchor" aria-label="anchor" href="#select"><i class="fas fa-link"></i></a>
</h3>
<p>Show the dataframe with the first 5 columns</p>
<div class="sourceCode" id="cb331"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##   city tmpd   dptp       date pm25tmean2
## 1 chic 31.5 31.500 1987-01-01         NA
## 2 chic 33.0 29.875 1987-01-02         NA
## 3 chic 33.0 27.375 1987-01-03         NA
## 4 chic 29.0 28.625 1987-01-04         NA
## 5 chic 32.0 28.875 1987-01-05         NA
## 6 chic 40.0 35.125 1987-01-06         NA</code></pre>
<div class="sourceCode" id="cb333"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">chicago</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] "city" "tmpd" "dptp"</code></pre>
<p>if we want to look at the columns starting with city and ending with D DPTP, which is the dew point column. I, and I want to include all the columns in between.</p>
<div class="sourceCode" id="cb335"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">city</span><span class="op">:</span><span class="va">dptp</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##   city tmpd   dptp
## 1 chic 31.5 31.500
## 2 chic 33.0 29.875
## 3 chic 33.0 27.375
## 4 chic 29.0 28.625
## 5 chic 32.0 28.875
## 6 chic 40.0 35.125</code></pre>
<p>you can use the minus sign to say, I want to look at all the columns except for these. The columns indicated by this range. And you can use the select function to just say minus on that city colon dew point sequence. And you’ll get all of the columns, except those few columns.</p>
<div class="sourceCode" id="cb337"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="op">-</span><span class="op">(</span><span class="va">city</span><span class="op">:</span><span class="va">dptp</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##         date pm25tmean2 pm10tmean2 o3tmean2 no2tmean2
## 1 1987-01-01         NA   34.00000 4.250000  19.98810
## 2 1987-01-02         NA         NA 3.304348  23.19099
## 3 1987-01-03         NA   34.16667 3.333333  23.81548
## 4 1987-01-04         NA   47.00000 4.375000  30.43452
## 5 1987-01-05         NA         NA 4.750000  30.33333
## 6 1987-01-06         NA   48.00000 5.833333  25.77233</code></pre>
<p>the equivalent code to do this in kind of regular R, without using the deplyr package is a little bit tricky</p>
<div class="sourceCode" id="cb339"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/match.html">match</a></span><span class="op">(</span><span class="st">"city"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">chicago</span><span class="op">)</span><span class="op">)</span>
<span class="va">j</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/match.html">match</a></span><span class="op">(</span><span class="st">"dptp"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">chicago</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">chicago</span><span class="op">[</span>, <span class="op">-</span><span class="op">(</span><span class="va">i</span><span class="op">:</span><span class="va">j</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>##         date pm25tmean2 pm10tmean2 o3tmean2 no2tmean2
## 1 1987-01-01         NA   34.00000 4.250000  19.98810
## 2 1987-01-02         NA         NA 3.304348  23.19099
## 3 1987-01-03         NA   34.16667 3.333333  23.81548
## 4 1987-01-04         NA   47.00000 4.375000  30.43452
## 5 1987-01-05         NA         NA 4.750000  30.33333
## 6 1987-01-06         NA   48.00000 5.833333  25.77233</code></pre>
</div>
<div id="verbs" class="section level3">
<h3>
<span class="header-section-number">35.8.3</span> Verbs<a class="anchor" aria-label="anchor" href="#verbs"><i class="fas fa-link"></i></a>
</h3>
<div id="filter-1" class="section level4">
<h4>
<span class="header-section-number">35.8.3.1</span> filter<a class="anchor" aria-label="anchor" href="#filter-1"><i class="fas fa-link"></i></a>
</h4>
<p>The filter function is the next function in deplyr that we’ll talk about and it’s basically used subset rows based on conditions. So, for example, you might want to take all the rows in the Chicago data set where pm 2.5 is greater than 30</p>
<div class="sourceCode" id="cb341"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chic.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">pm25tmean2</span> <span class="op">&gt;</span> <span class="fl">30</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chic.f</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="va">pm25tmean2</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre><code>##    city tmpd dptp pm25tmean2
## 1  chic   23 21.9      38.10
## 2  chic   28 25.8      33.95
## 3  chic   55 51.3      39.40
## 4  chic   59 53.7      35.40
## 5  chic   57 52.0      33.30
## 6  chic   57 56.0      32.10
## 7  chic   75 65.8      56.50
## 8  chic   61 59.0      33.80
## 9  chic   73 60.3      30.30
## 10 chic   78 67.1      41.40</code></pre>
<p>you don’t have to just subset rows based on values in one column. You can take multiple columns and create a more complicated logical sequence. here we are looking at pm2.5 greater than 30. As well as temperature greater than 80.</p>
<div class="sourceCode" id="cb343"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chic.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">pm25tmean2</span> <span class="op">&gt;</span> <span class="fl">30</span> <span class="op">&amp;</span> <span class="va">tmpd</span> <span class="op">&gt;</span> <span class="fl">80</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chic.f</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="va">pm25tmean2</span>, <span class="va">tmpd</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre><code>##    city tmpd dptp pm25tmean2
## 1  chic   81 71.2    39.6000
## 2  chic   81 70.4    31.5000
## 3  chic   82 72.2    32.3000
## 4  chic   84 72.9    43.7000
## 5  chic   85 72.6    38.8375
## 6  chic   84 72.6    38.2000
## 7  chic   82 67.4    33.0000
## 8  chic   82 63.5    42.5000
## 9  chic   81 70.4    33.1000
## 10 chic   82 66.2    38.8500</code></pre>
</div>
<div id="arrange" class="section level4">
<h4>
<span class="header-section-number">35.8.3.2</span> arrange<a class="anchor" aria-label="anchor" href="#arrange"><i class="fas fa-link"></i></a>
</h4>
<p>The next function of range has a simple purpose. It’s basically used to reorder the rows of a data frame based on the values of a column.</p>
<div class="sourceCode" id="cb345"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chicago</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">date</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">date</span>, <span class="va">pm25tmean2</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>##         date pm25tmean2
## 1 1987-01-01         NA
## 2 1987-01-02         NA
## 3 1987-01-03         NA</code></pre>
<p>use the tail function to look at the last couple rows</p>
<div class="sourceCode" id="cb347"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">date</span>, <span class="va">pm25tmean2</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>##            date pm25tmean2
## 6938 2005-12-29    7.45000
## 6939 2005-12-30   15.05714
## 6940 2005-12-31   15.00000</code></pre>
<p>To arrange the rows in descending order, the desc function can be used</p>
<div class="sourceCode" id="cb349"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chicago</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">date</span>, <span class="va">pm25tmean2</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>##         date pm25tmean2
## 1 2005-12-31   15.00000
## 2 2005-12-30   15.05714
## 3 2005-12-29    7.45000</code></pre>
<p>use the tail function to look at the last couple rows</p>
<div class="sourceCode" id="cb351"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">date</span>, <span class="va">pm25tmean2</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>##            date pm25tmean2
## 6938 1987-01-03         NA
## 6939 1987-01-02         NA
## 6940 1987-01-01         NA</code></pre>
</div>
<div id="rename" class="section level4">
<h4>
<span class="header-section-number">35.8.3.3</span> rename<a class="anchor" aria-label="anchor" href="#rename"><i class="fas fa-link"></i></a>
</h4>
<p>The rename function is very simple. it can be used to rename a variable in R.</p>
<div class="sourceCode" id="cb353"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">chicago</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>##   city tmpd dptp       date pm25tmean2
## 1 chic   35 30.1 2005-12-31   15.00000
## 2 chic   36 31.0 2005-12-30   15.05714
## 3 chic   35 29.4 2005-12-29    7.45000</code></pre>
<div class="sourceCode" id="cb355"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chicago</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span><span class="va">chicago</span>, dewpoint <span class="op">=</span> <span class="va">dptp</span>, pm25 <span class="op">=</span> <span class="va">pm25tmean2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">chicago</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>##   city tmpd dewpoint       date     pm25
## 1 chic   35     30.1 2005-12-31 15.00000
## 2 chic   36     31.0 2005-12-30 15.05714
## 3 chic   35     29.4 2005-12-29  7.45000</code></pre>
</div>
<div id="mutate" class="section level4">
<h4>
<span class="header-section-number">35.8.3.4</span> mutate<a class="anchor" aria-label="anchor" href="#mutate"><i class="fas fa-link"></i></a>
</h4>
<p>The mutate function is used to simply transform existing variables or to create new variables. So here in this example we want to create a new variable called pm25detrend. And this is the pm25 variable with the mean subtracted off.</p>
<div class="sourceCode" id="cb357"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chicago</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="va">chicago</span>, pm25detrend<span class="op">=</span><span class="va">pm25</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pm25</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">pm25</span>, <span class="va">pm25detrend</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##       pm25 pm25detrend
## 1 15.00000   -1.230958
## 2 15.05714   -1.173815
## 3  7.45000   -8.780958
## 4 17.75000    1.519042
## 5 23.56000    7.329042
## 6  8.40000   -7.830958</code></pre>
</div>
<div id="group_by" class="section level4">
<h4>
<span class="header-section-number">35.8.3.5</span> group_by<a class="anchor" aria-label="anchor" href="#group_by"><i class="fas fa-link"></i></a>
</h4>
<p>Finally the group by function allows you to split a data frame according to Certain categorical variables. in this example, we are going to create a temperature category variable which will indicate whether a given day was hot or cold, depending on whether the temperature was over 80 degrees or not.</p>
<div class="sourceCode" id="cb359"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chicago</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="va">chicago</span>, tempcat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">*</span> <span class="op">(</span><span class="va">tmpd</span> <span class="op">&gt;</span> <span class="fl">80</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cold"</span>, <span class="st">"hot"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">hotcold</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">tempcat</span><span class="op">)</span>
<span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span><span class="va">hotcold</span>, pm25 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pm25</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
o3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">o3tmean2</span><span class="op">)</span>,
no2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">no2tmean2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   tempcat  pm25    o3   no2
##   &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 cold     16.0 66.6   24.5
## 2 hot      26.5 63.0   24.9
## 3 &lt;NA&gt;     47.7  9.42  37.4</code></pre>
<p>We can also categorize the data set on on other variables. For example we might want to do a summary for each year in the data set. We can create I can use the mutate function to create a year variable.</p>
<div class="sourceCode" id="cb361"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chicago</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="va">chicago</span>, year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXlt</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">$</span><span class="va">year</span> <span class="op">+</span> <span class="fl">1900</span><span class="op">)</span>
<span class="va">years</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">chicago</span>, <span class="va">year</span><span class="op">)</span>
<span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span><span class="va">years</span>, pm25 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pm25</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
o3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">o3tmean2</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
no2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">no2tmean2</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 19 × 4
##     year  pm25    o3   no2
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  1987 NaN    63.0  23.5
##  2  1988 NaN    61.7  24.5
##  3  1989 NaN    59.7  26.1
##  4  1990 NaN    52.2  22.6
##  5  1991 NaN    63.1  21.4
##  6  1992 NaN    50.8  24.8
##  7  1993 NaN    44.3  25.8
##  8  1994 NaN    52.2  28.5
##  9  1995 NaN    66.6  27.3
## 10  1996 NaN    58.4  26.4
## 11  1997 NaN    56.5  25.5
## 12  1998  18.3  50.7  24.6
## 13  1999  18.5  57.5  24.7
## 14  2000  16.9  55.8  23.5
## 15  2001  16.9  51.8  25.1
## 16  2002  15.3  54.9  22.7
## 17  2003  15.2  56.2  24.6
## 18  2004  14.6  44.5  23.4
## 19  2005  16.2  58.8  22.6</code></pre>
</div>
<div id="section" class="section level4">
<h4>
<span class="header-section-number">35.8.3.6</span> %&gt;%<a class="anchor" aria-label="anchor" href="#section"><i class="fas fa-link"></i></a>
</h4>
<p>The dplyr package implements a special operator. That allows you to chain different operations. It allows you to see what operations are happening in a readable way. it’s indicated by a percent symbol and then the greater than symbol and then the percent symbol. We will call it the pipeline operator. The idea it that you take a data set and you feed through a pipeline of operations to create a new data set. We have the Chicago data set and we want to mutate to create a month variable because we want to create a summary of each of the pollutant variables by month. Then we want to take the output of mutate. Then group by it use according to this month variable. finally we want to take the output of group by and then run it through summarize.</p>
<div class="sourceCode" id="cb363"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">chicago</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXlt</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">$</span><span class="va">mon</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">month</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>pm25 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pm25</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
    o3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">o3tmean2</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
    no2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">no2tmean2</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 12 × 4
##    month  pm25    o3   no2
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1     1  17.8  28.2  25.4
##  2     2  20.4  37.4  26.8
##  3     3  17.4  39.0  26.8
##  4     4  13.9  47.9  25.0
##  5     5  14.1  52.8  24.2
##  6     6  15.9  66.6  25.0
##  7     7  16.6  59.5  22.4
##  8     8  16.9  54.0  23.0
##  9     9  15.9  57.5  24.5
## 10    10  14.2  47.1  24.2
## 11    11  15.2  29.5  23.6
## 12    12  17.5  27.7  24.5</code></pre>
</div>
</div>
<div id="connecting-to-sql-database" class="section level3">
<h3>
<span class="header-section-number">35.8.4</span> Connecting to SQL DataBase<a class="anchor" aria-label="anchor" href="#connecting-to-sql-database"><i class="fas fa-link"></i></a>
</h3>
<p>This part will teach us how to connect a SQL database with R and submit queries to it. For this we need <code>dbplyr</code> and <code>RSQLite</code> packages.</p>
<p>Retrieve the SQL file the way you want. In our case we will retrieve it from a url and stock it in the data folder.</p>
<div class="sourceCode" id="cb365"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html">download.file</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://ndownloader.figshare.com/files/2292171"</span>, destfile <span class="op">=</span> <span class="st">"data/db_sql.sqlite"</span>, mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span></code></pre></div>
<p>We then connect the R terminal with the SQL database.</p>
<div class="sourceCode" id="cb366"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">db</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"resources/downloading_files/db_sql.sqlite"</span><span class="op">)</span></code></pre></div>
<div id="querying-the-database-with-the-sql-syntax" class="section level4">
<h4>
<span class="header-section-number">35.8.4.1</span> Querying the database with the SQL syntax<a class="anchor" aria-label="anchor" href="#querying-the-database-with-the-sql-syntax"><i class="fas fa-link"></i></a>
</h4>
<p>The <code>sql</code> function allows us to submit queries to the database using the SQL language.</p>
<div class="sourceCode" id="cb367"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span><span class="op">(</span><span class="va">db</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sql.html">sql</a></span><span class="op">(</span><span class="st">"SELECT year, species_id, plot_id FROM surveys"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # Source:   SQL [?? x 3]
## # Database: sqlite 3.36.0
## #   [/home/runner/work/cc21fall2/cc21fall2/resources/downloading_files/db_sql.sqlite]
##     year species_id plot_id
##    &lt;int&gt; &lt;chr&gt;        &lt;int&gt;
##  1  1977 NL               2
##  2  1977 NL               3
##  3  1977 DM               2
##  4  1977 DM               7
##  5  1977 DM               3
##  6  1977 PF               1
##  7  1977 PE               2
##  8  1977 DM               1
##  9  1977 DM               1
## 10  1977 PF               6
## # … with more rows</code></pre>
</div>
<div id="querying-the-database-with-the-dplyr-syntax" class="section level4">
<h4>
<span class="header-section-number">35.8.4.2</span> Querying the database with the dplyr syntax<a class="anchor" aria-label="anchor" href="#querying-the-database-with-the-dplyr-syntax"><i class="fas fa-link"></i></a>
</h4>
<p>The same result can be achieved by using the dplyr syntax.</p>
<div class="sourceCode" id="cb369"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">surveys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span><span class="op">(</span><span class="va">db</span>, <span class="st">"surveys"</span><span class="op">)</span>
<span class="va">surveys</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">species_id</span>, <span class="va">plot_id</span><span class="op">)</span></code></pre></div>
<pre><code>## # Source:   lazy query [?? x 3]
## # Database: sqlite 3.36.0
## #   [/home/runner/work/cc21fall2/cc21fall2/resources/downloading_files/db_sql.sqlite]
##     year species_id plot_id
##    &lt;int&gt; &lt;chr&gt;        &lt;int&gt;
##  1  1977 NL               2
##  2  1977 NL               3
##  3  1977 DM               2
##  4  1977 DM               7
##  5  1977 DM               3
##  6  1977 PF               1
##  7  1977 PE               2
##  8  1977 DM               1
##  9  1977 DM               1
## 10  1977 PF               6
## # … with more rows</code></pre>
</div>
</div>
<div id="other-benefit-of-dplyr" class="section level3">
<h3>
<span class="header-section-number">35.8.5</span> Other benefit of dplyr<a class="anchor" aria-label="anchor" href="#other-benefit-of-dplyr"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>dplyr can work with other data frame “backends”</li>
<li>data.table for large fast tables</li>
<li>SQL interface for relational databases via the DBI package</li>
</ul>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="dplyr-tutorial-in-r.html"><span class="header-section-number">34</span> Dplyr tutorial in R</a></div>
<div class="next"><a href="video-introduction-to-maps-with-ggmap.html"><span class="header-section-number">36</span> Video introduction to maps with ggmap</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#downloading-files"><span class="header-section-number">35</span> Downloading files</a></li>
<li><a class="nav-link" href="#getset-your-working-directory"><span class="header-section-number">35.1</span> Get/set your working directory</a></li>
<li><a class="nav-link" href="#checking-for-and-creating-directories"><span class="header-section-number">35.2</span> Checking for and creating directories</a></li>
<li><a class="nav-link" href="#download-a-file-from-the-web"><span class="header-section-number">35.3</span> Download a file from the web</a></li>
<li>
<a class="nav-link" href="#reading-local-files"><span class="header-section-number">35.4</span> Reading Local Files</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#some-more-important-parameters"><span class="header-section-number">35.4.1</span> Some more important parameters</a></li></ul>
</li>
<li><a class="nav-link" href="#reading-xml"><span class="header-section-number">35.5</span> Reading XML</a></li>
<li><a class="nav-link" href="#reading-json"><span class="header-section-number">35.6</span> Reading JSON</a></li>
<li><a class="nav-link" href="#webscraping"><span class="header-section-number">35.7</span> Webscraping</a></li>
<li>
<a class="nav-link" href="#dplyr-pachage"><span class="header-section-number">35.8</span> dplyr Pachage</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#load-the-dplyr-package"><span class="header-section-number">35.8.1</span> Load the dplyr package</a></li>
<li><a class="nav-link" href="#select"><span class="header-section-number">35.8.2</span> Select</a></li>
<li><a class="nav-link" href="#verbs"><span class="header-section-number">35.8.3</span> Verbs</a></li>
<li><a class="nav-link" href="#connecting-to-sql-database"><span class="header-section-number">35.8.4</span> Connecting to SQL DataBase</a></li>
<li><a class="nav-link" href="#other-benefit-of-dplyr"><span class="header-section-number">35.8.5</span> Other benefit of dplyr</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/jtr13/cc21fall2/blob/main/downloading_files.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/jtr13/cc21fall2/edit/main/downloading_files.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>EDAV Fall 2021 Tues/Thurs Community Contributions</strong>" was written by . It was last built on 2021-11-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
